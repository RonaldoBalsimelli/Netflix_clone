<!DOCTYPE html>
<html>
<head>
  <title><%= @show.name %></title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #000;
      color: #fff;
    }
    .banner {
      width: 100%;
      border-radius: 10px;
      margin-bottom: 20px;
    }
    .episode-card {
      background-color: #111;
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <div class="container mt-4">
    <a href="/" class="btn btn-danger mb-4">← Voltar</a>

    <h1><%= @show.name %></h1>
    
    <% if @show.image %>
      <img src="<%= @show.image["original"] %>" class="img-fluid d-block mx-auto rounded" style="max-width: 800px;" alt="<%= @show.name %>">
    <% end %>

    <p><%= @show.summary&.html_safe %></p>

    <% @episodes_by_season.each do |season, episodes| %>
      <h2 class="mt-5">Temporada <%= season %></h2>
      <% episodes.each do |ep| %>
        <div class="episode-card">
          <strong>Episódio <%= ep["number"] %>: <%= ep["name"] %></strong>
          <p><%= ep["summary"]&.html_safe || "Sem descrição" %></p>
          <% if ep["image"] %>
  <img src="<%= ep["image"]["medium"] %>" alt="<%= ep["name"] %>" class="img-fluid mb-2" style="max-width: 300px;">
<% end %>

          
          <a href="<%= episode_path(ep["id"]) %>" class="btn btn-outline-light btn-sm">Ver detalhes</a>
        </div>
      <% end %>
    <% end %>
  </div>
</body>
</html>
